"use strict";(self.webpackChunk_etherealengine_docs=self.webpackChunk_etherealengine_docs||[]).push([[3916],{9023:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>r,toc:()=>d});var o=t(4848),i=t(8453);const s={},c="Event Sourcing",r={id:"manual/modules/engine/actionsEventSourcing",title:"Event Sourcing",description:"Actions",source:"@site/docs/manual/03_modules/01_engine/06_actionsEventSourcing.md",sourceDirName:"manual/03_modules/01_engine",slug:"/manual/modules/engine/actionsEventSourcing",permalink:"/etherealengine-docs/manual/modules/engine/actionsEventSourcing",draft:!1,unlisted:!1,editUrl:"https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/manual/03_modules/01_engine/06_actionsEventSourcing.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{},sidebar:"manual",previous:{title:"Networking",permalink:"/etherealengine-docs/manual/modules/engine/networking"},next:{title:"Debugging",permalink:"/etherealengine-docs/manual/modules/engine/debugging/"}},a={},d=[{value:"Actions",id:"actions",level:2}];function h(e){const n={br:"br",code:"code",em:"em",h1:"h1",h2:"h2",img:"img",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"event-sourcing",children:"Event Sourcing"}),"\n",(0,o.jsx)(n.h2,{id:"actions",children:"Actions"}),"\n",(0,o.jsxs)(n.p,{children:["Actions are a way to control state changes in your application.",(0,o.jsx)(n.br,{}),"\n","Once defined they can be dispatched, and doing so will populate the outgoing queue that will be processed on the next frame."]}),"\n",(0,o.jsxs)(n.p,{children:["All actions are dispatched to a topic ",(0,o.jsxs)(n.em,{children:["(the ",(0,o.jsx)(n.strong,{children:"default"})," topic when no other topic is specified)"]}),".",(0,o.jsx)(n.br,{}),"\n","Topics are used to specify which actions will be routed to specific networks."]}),"\n",(0,o.jsxs)(n.p,{children:["When an action is dispatched, it is added to the incoming action queue.",(0,o.jsx)(n.br,{}),"\n","If this action's topic is networked, the action is also added to the outgoing queue for that topic."]}),"\n",(0,o.jsx)(n.p,{children:"At the end of an animation frame, any actions stored in a network topic's outgoing queue will be sent to the network associated with that topic."}),"\n",(0,o.jsxs)(n.p,{children:["If the peer is the host of a networked action's topic, the action will be sent to every other peer. If not, the action will be sent only to the host. This can be opted out of by specifying the ",(0,o.jsx)(n.code,{children:"$to"})," property on an action, which informs the host to forward the action only to that user."]}),"\n",(0,o.jsxs)(n.p,{children:["Action queues are populated with incoming actions at the start of the next animation frame.",(0,o.jsx)(n.br,{}),"\n","These actions will be processed in the order in which they were received, by their respective systems in the order in which those systems were registered."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(5022).A+"",width:"1229",height:"389"})})]})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},5022:(e,n,t)=>{t.d(n,{A:()=>o});const o=t.p+"assets/images/action-flow-60986ff90c8d31b59daae05f970d318e.png"},8453:(e,n,t)=>{t.d(n,{R:()=>c,x:()=>r});var o=t(6540);const i={},s=o.createContext(i);function c(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);