"use strict";(self.webpackChunk_etherealengine_docs=self.webpackChunk_etherealengine_docs||[]).push([[1794],{6255:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>l});var i=t(4848),o=t(8453),r=t(9263);const s={},a="The ECS Pattern",d={id:"developer/typescript/gettingStarted/hello/ecs",title:"The ECS Pattern",description:"The Entity Component System is a pattern used to organize our code when writing software.",source:"@site/docs/developer/typescript/01_gettingStarted/02_hello/01_ecs.md",sourceDirName:"developer/typescript/01_gettingStarted/02_hello",slug:"/developer/typescript/gettingStarted/hello/ecs",permalink:"/etherealengine-docs/developer/typescript/gettingStarted/hello/ecs",draft:!1,unlisted:!1,editUrl:"https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/developer/typescript/01_gettingStarted/02_hello/01_ecs.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"typescript",previous:{title:"Hello iR Engine",permalink:"/etherealengine-docs/developer/typescript/gettingStarted/hello/"},next:{title:"The Engine",permalink:"/etherealengine-docs/developer/typescript/gettingStarted/hello/engine"}},c={},l=[{value:"Creating an Entity",id:"creating-an-entity",level:2},{value:"Adding Components",id:"adding-components",level:2},{value:"<code>NameComponent</code>",id:"namecomponent",level:3},{value:"<code>VisibleComponent</code>",id:"visiblecomponent",level:3},{value:"<code>TransformComponent</code>",id:"transformcomponent",level:3},{value:"<code>PrimitiveGeometryComponent</code>",id:"primitivegeometrycomponent",level:3}];function h(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h1,{id:"the-ecs-pattern",children:"The ECS Pattern"}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Entity_component_system",children:"Entity Component System"})," is a pattern used to organize our code when writing software.",(0,i.jsx)(n.br,{}),"\n","In this pattern:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Logic is represented as ",(0,i.jsx)(n.code,{children:"Systems"}),", and they define the behavior of the application"]}),"\n",(0,i.jsxs)(n.li,{children:["Data is represented as ",(0,i.jsx)(n.code,{children:"Components"})," that have no behavior or identifiers attached to them"]}),"\n",(0,i.jsx)(n.li,{children:"Components are attached to Entities"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Entities"})," are identifiers"]}),"\n"]}),"\n",(0,i.jsx)(r.W,{title:"Technical Summary",children:(0,i.jsxs)(n.p,{children:["The ECS pattern represents ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Object_(computer_science)",children:"Objects"})," by attaching Components (data) to an Entity (identifiers) without behavior.",(0,i.jsx)(n.br,{}),"\n","The behavior of the application is then controlled by having separate Systems (logic) that process that data.",(0,i.jsx)(n.br,{}),"\n","Systems don't need to know where that data is coming from. They only know what data is stored in the Components that they can operate on."]})}),"\n",(0,i.jsxs)(n.admonition,{type:"note",children:[(0,i.jsxs)(n.p,{children:["Clicking on the ",(0,i.jsx)(n.code,{children:"Technical Summary"})," note right above will open a drop-down with information about what the ECS pattern is in more advanced/technical terms."]}),(0,i.jsxs)(n.p,{children:["You will find a lot of these ",(0,i.jsx)(n.code,{children:"Technical"})," drop-downs throughout the guides.",(0,i.jsx)(n.br,{}),"\n","Their goal is to give you extra information that is not mandatory to understand to follow the guide, but is very useful to achieve a deeper understanding of the content."]}),(0,i.jsx)(n.p,{children:"Don't worry if you don't fully understand what some of them explain just yet. We will get there."})]}),"\n",(0,i.jsx)(n.h2,{id:"creating-an-entity",children:"Creating an Entity"}),"\n",(0,i.jsxs)(n.p,{children:["Creating an Entity is as simple as calling the ",(0,i.jsx)(n.code,{children:"createEntity()"})," function from iR Engine's ",(0,i.jsx)(n.code,{children:"ECS"}),".",(0,i.jsx)(n.br,{}),"\n","This function will return an identifier that can be used to group Components into a unique and distinct Object."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const entity = ECS.createEntity()\n"})}),"\n",(0,i.jsx)(n.h2,{id:"adding-components",children:"Adding Components"}),"\n",(0,i.jsxs)(n.p,{children:["Components represent data that has no behavior or identification.",(0,i.jsx)(n.br,{}),"\n","The way to attach Components to Entities is by calling the ",(0,i.jsx)(n.code,{children:"setComponent"})," function from iR Engine's ",(0,i.jsx)(n.code,{children:"ECS"}),"."]}),"\n",(0,i.jsxs)(r.W,{children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"setComponent"})," function will not return anything, but it will:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add the given Component to the Entity."}),"\n",(0,i.jsxs)(n.li,{children:["Store the Component's data in the internal records of the ECS, so it can used by the engine or accessed through the API ",(0,i.jsxs)(n.em,{children:["(eg: with ",(0,i.jsx)(n.code,{children:"getComponent"})," and similar functions)"]}),"."]}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"iR Engine requires a specific set of Components in order to create an object that can be presented on the screen:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"VisibleComponent"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"TransformComponent"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"PrimitiveGeometryComponent"})," or ",(0,i.jsx)(n.strong,{children:"MeshComponent"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.em,{children:"(optional)"})," ",(0,i.jsx)(n.strong,{children:"NameComponent"}),": Not required, but good practice."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"namecomponent",children:(0,i.jsx)(n.code,{children:"NameComponent"})}),"\n",(0,i.jsxs)(n.p,{children:["Gives a human-readable identifier to an Entity.",(0,i.jsx)(n.br,{}),"\n","Whatever name you add on this field is the name that will show up in the Studio and the debugger.\nThey are not mandatory, but it is good practice to add them to all your entities."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"ECS.setComponent(entity, NameComponent, 'hello-world')\n"})}),"\n",(0,i.jsx)(r.W,{title:"Clarification",children:(0,i.jsxs)(n.p,{children:["We said that an entity is an identifier, but we are also giving that identifier a ",(0,i.jsx)(n.code,{children:"NameComponent"}),".",(0,i.jsx)(n.br,{}),"\n",'Every Entity represents its internal "name" ',(0,i.jsx)(n.em,{children:"(aka identifier)"})," as an ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Universally_unique_identifier",children:"UUID"}),", which does not need to be human-readable.",(0,i.jsx)(n.br,{}),"\n","And ",(0,i.jsx)(n.code,{children:"NameComponents"})," give a human-readable identifier to an Entity, independent of what its UUID is."]})}),"\n",(0,i.jsx)(n.h3,{id:"visiblecomponent",children:(0,i.jsx)(n.code,{children:"VisibleComponent"})}),"\n",(0,i.jsxs)(n.p,{children:["Gives the Entity the ability to be visible on the screen.",(0,i.jsx)(n.br,{}),"\n","Entities without this Component will be ignored by the renderer."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"ECS.setComponent(entity, VisibleComponent)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"transformcomponent",children:(0,i.jsx)(n.code,{children:"TransformComponent"})}),"\n",(0,i.jsxs)(n.p,{children:["In simple terms, ",(0,i.jsx)(n.code,{children:"TransformComponents"})," give an Entity the ability to have a ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Transformation_matrix",children:"position in the world"}),".",(0,i.jsx)(n.br,{}),"\n","There would be no way to position the Entity in 3D space without attaching this Component to the Entity."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"ECS.setComponent(entity, TransformComponent, { position: new Vector3(0, 1, 0) })\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["In more technical terms, ",(0,i.jsx)(n.code,{children:"TransformComponents"})," give the Entity the ability to be affected by ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Linear_transformation",children:"linear transformations"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"primitivegeometrycomponent",children:(0,i.jsx)(n.code,{children:"PrimitiveGeometryComponent"})}),"\n",(0,i.jsxs)(n.p,{children:['This Component gives Entities a primitive "visual body".',(0,i.jsx)(n.br,{}),"\n","Entities without it would not have any ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Polygon_mesh",children:"3D geometry"}),", so the renderer would not be able to draw them on the screen."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"ECS.setComponent(entity, PrimitiveGeometryComponent, { geometryType: 1 })\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"1"})," here means that we are creating a ",(0,i.jsx)(n.a,{href:"https://github.com/EtherealEngine/etherealengine/blob/dev/packages/engine/src/scene/constants/GeometryTypeEnum.ts#L28",children:(0,i.jsx)(n.code,{children:"SphereGeometry"})})," object.",(0,i.jsx)(n.br,{}),"\n","We will create the component using a more readable name in the next section of the tutorial."]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},9263:(e,n,t)=>{t.d(n,{W:()=>r});var i=t(6540),o=t(4848);const r=e=>{const n=e.title?e.title:"Technical Note";return(0,o.jsx)(i.Fragment,{children:(0,o.jsxs)("details",{className:"alert alert--secondary mb-5 bg-neutral-900",children:[(0,o.jsx)("summary",{className:"text-blue-200 hover:cursor-pointer",children:n}),(0,o.jsx)("div",{className:"pt-4",children:e.children})]})})}},8453:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>a});var i=t(6540);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);