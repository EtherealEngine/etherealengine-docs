"use strict";(self.webpackChunk_etherealengine_docs=self.webpackChunk_etherealengine_docs||[]).push([[4379],{2118:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>s,metadata:()=>i,toc:()=>t});var r=a(4848),l=a(8453);const s={},c="Logging with Opensearch on Docker",i={id:"manual/install/advanced/opensearch",title:"Logging with Opensearch on Docker",description:"In this guide you will learn how to quickstart with detailed logging using opensearch.",source:"@site/docs/manual/01_install/050_advanced/08_opensearch.md",sourceDirName:"manual/01_install/050_advanced",slug:"/manual/install/advanced/opensearch",permalink:"/etherealengine-docs/manual/install/advanced/opensearch",draft:!1,unlisted:!1,editUrl:"https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/manual/01_install/050_advanced/08_opensearch.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"manual",previous:{title:"Troubleshooting",permalink:"/etherealengine-docs/manual/install/advanced/troubleshooting"},next:{title:"Setup Elastic Search & Kibana",permalink:"/etherealengine-docs/manual/install/advanced/elasticKibana"}},o={},t=[{value:"Setup Opensearch on Docker locally",id:"setup-opensearch-on-docker-locally",level:2},{value:"Pull OpenSearch Images",id:"pull-opensearch-images",level:3},{value:"OpenSearch",id:"opensearch",level:4},{value:"OpenSearch Dashboard",id:"opensearch-dashboard",level:4},{value:"Start Opensearch Containers",id:"start-opensearch-containers",level:3},{value:"OpenSearch",id:"opensearch-1",level:4},{value:"OpenSearch Dashboard",id:"opensearch-dashboard-1",level:4},{value:"Verify if the containers are up &amp; running",id:"verify-if-the-containers-are-up--running",level:3},{value:"Enable logging",id:"enable-logging",level:3},{value:"Enable Client Logging",id:"enable-client-logging",level:4},{value:"Enable Server Logging",id:"enable-server-logging",level:4}];function h(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h1,{id:"logging-with-opensearch-on-docker",children:"Logging with Opensearch on Docker"}),"\n",(0,r.jsx)(n.p,{children:"In this guide you will learn how to quickstart with detailed logging using opensearch."}),"\n",(0,r.jsx)(n.h2,{id:"setup-opensearch-on-docker-locally",children:"Setup Opensearch on Docker locally"}),"\n",(0,r.jsx)(n.h3,{id:"pull-opensearch-images",children:"Pull OpenSearch Images"}),"\n",(0,r.jsx)(n.h4,{id:"opensearch",children:"OpenSearch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull opensearchproject/opensearch:latest\n"})}),"\n",(0,r.jsx)(n.h4,{id:"opensearch-dashboard",children:"OpenSearch Dashboard"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker pull opensearchproject/opensearch-dashboards:latest\n"})}),"\n",(0,r.jsx)(n.h3,{id:"start-opensearch-containers",children:"Start Opensearch Containers"}),"\n",(0,r.jsx)(n.h4,{id:"opensearch-1",children:"OpenSearch"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run -d -p 9200:9200 -p 9600:9600 -e "discovery.type=single-node" -e "plugins.security.disabled=true" opensearchproject/opensearch:latest \n'})}),"\n",(0,r.jsx)(n.h4,{id:"opensearch-dashboard-1",children:"OpenSearch Dashboard"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'docker run -it -d --network="host" -e "DISABLE_SECURITY_DASHBOARDS_PLUGIN=true" opensearchproject/opensearch-dashboards:latest\n'})}),"\n",(0,r.jsx)(n.h3,{id:"verify-if-the-containers-are-up--running",children:"Verify if the containers are up & running"}),"\n",(0,r.jsx)(n.p,{children:"Send a request to port 9200"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl http://127.0.0.1:9200\n"})}),"\n",(0,r.jsx)(n.p,{children:"List Indices through curl"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X GET "http://127.0.0.1:9200/_cat/indices?v"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Create Indices through Curl"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:'curl -X PUT "http://127.0.0.1:9200/your_index_name"\n'})}),"\n",(0,r.jsx)(n.p,{children:"Delete Index"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location --request DELETE 'http://127.0.0.1:9200/index_name'\n"})}),"\n",(0,r.jsx)(n.p,{children:"Fetch logs for an index_name"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"curl --location --request GET 'http://127.0.0.1:9200/ethereal/_search' \\\n  --header 'Content-Type: application/json' \\\n  --data '{\n  \"query\": {\n    \"match_all\": {}\n  },\n  \"size\": 10000\n  }'\n"})}),"\n",(0,r.jsx)(n.h3,{id:"enable-logging",children:"Enable logging"}),"\n",(0,r.jsxs)(n.p,{children:["Configure these variables in the ",(0,r.jsx)(n.code,{children:".env.local"})," file to ensure proper communication with OpenSearch and to enable client and server log aggregation"]}),"\n",(0,r.jsx)(n.h4,{id:"enable-client-logging",children:"Enable Client Logging"}),"\n",(0,r.jsxs)(n.p,{children:["Set ",(0,r.jsx)(n.code,{children:"VITE_FORCE_CLIENT_LOG_AGGREGATE"})," to true to enable client log aggregation"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"VITE_FORCE_CLIENT_LOG_AGGREGATE=true\n"})}),"\n",(0,r.jsx)(n.h4,{id:"enable-server-logging",children:"Enable Server Logging"}),"\n",(0,r.jsxs)(n.p,{children:["Set ",(0,r.jsx)(n.code,{children:"DISABLE_SERVER_LOG"})," to false to enable server log aggregation"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"DISABLE_SERVER_LOG=false\n"})})]})}function d(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,a)=>{a.d(n,{R:()=>c,x:()=>i});var r=a(6540);const l={},s=r.createContext(l);function c(e){const n=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),r.createElement(s.Provider,{value:n},e.children)}}}]);