<!doctype html>
<html lang="es" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-host/devops_deployment/microk8s_windows">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.0">
<title data-rh="true">Ethereal Engine on MicroK8s (Windows) | etherealengine</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://etherealengine.github.io/etherealengine-docs/es/docs/host/devops_deployment/microk8s_windows"><meta data-rh="true" name="docusaurus_locale" content="es"><meta data-rh="true" name="docsearch:language" content="es"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ethereal Engine on MicroK8s (Windows) | etherealengine"><meta data-rh="true" name="description" content="This guide is intended for local environment and currently tested on Windows 11."><meta data-rh="true" property="og:description" content="This guide is intended for local environment and currently tested on Windows 11."><link data-rh="true" rel="icon" href="/etherealengine-docs/es/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://etherealengine.github.io/etherealengine-docs/es/docs/host/devops_deployment/microk8s_windows"><link data-rh="true" rel="alternate" href="https://etherealengine.github.io/etherealengine-docs/docs/host/devops_deployment/microk8s_windows" hreflang="en"><link data-rh="true" rel="alternate" href="https://etherealengine.github.io/etherealengine-docs/es/docs/host/devops_deployment/microk8s_windows" hreflang="es"><link data-rh="true" rel="alternate" href="https://etherealengine.github.io/etherealengine-docs/docs/host/devops_deployment/microk8s_windows" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://N5OIDFHT9B-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="etherealengine" href="/etherealengine-docs/es/opensearch.xml"><link rel="stylesheet" href="/etherealengine-docs/es/assets/css/styles.6c1ddb1d.css">
<link rel="preload" href="/etherealengine-docs/es/assets/js/runtime~main.257a882b.js" as="script">
<link rel="preload" href="/etherealengine-docs/es/assets/js/main.687acc7d.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Saltar al contenido principal"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Saltar al contenido principal</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/etherealengine-docs/es/"><div class="navbar__logo"><img src="/etherealengine-docs/es/img/logo.svg" alt="Ethereal Engine Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/etherealengine-docs/es/img/logo.svg" alt="Ethereal Engine Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Ethereal Engine</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/etherealengine-docs/es/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://etherealengine.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Ethereal Engine<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Español</a><ul class="dropdown__menu"><li><a href="/etherealengine-docs/docs/host/devops_deployment/microk8s_windows" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/etherealengine-docs/es/docs/host/devops_deployment/microk8s_windows" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="es">Español</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Buscar"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Buscar</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Volver al principio" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/etherealengine-docs/es/docs/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/etherealengine-docs/es/docs/host/">Ethereal for Hosts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ethereal for Hosts&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/etherealengine-docs/es/docs/host/installation/">Installation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Installation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/">Deployment</a><button aria-label="Toggle the collapsible sidebar category &#x27;Deployment&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/microk8s_linux">Ethereal Engine on MicroK8s (Linux)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/microk8s_windows">Ethereal Engine on MicroK8s (Windows)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/docker_desktop">Ethereal Engine on Docker Desktop</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/minikube">Ethereal Engine on Minikube</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/AWS_setup">Ethereal Engine on AWS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/installing_projects">Installing Projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/database_migrations">Database Migrations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/setup_github_oauth_for_projects">How to set up GitHub to install external projects</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/managing_remote_kubernetes">Cluster Management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/release_helm_chart">Release Helm Chart</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/upgrade_helm_deployment">Upgrading Helm Release</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/etherealengine-docs/es/docs/host/devops_deployment/tutorials/">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/etherealengine-docs/es/docs/host/Admin_Dashboard/">Ethereal Engine Admin Panel Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/etherealengine-docs/es/docs/creator/">Ethereal for Creators</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ethereal for Creators&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/etherealengine-docs/es/docs/guest/">Ethereal for Guests</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/etherealengine-docs/es/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/etherealengine-docs/es/docs/host/"><span itemprop="name">Ethereal for Hosts</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/etherealengine-docs/es/docs/host/devops_deployment/"><span itemprop="name">Deployment</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ethereal Engine on MicroK8s (Windows)</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">En esta página</button></div><div class="theme-doc-markdown markdown"><h1>Ethereal Engine on MicroK8s (Windows)</h1><p>This guide is intended for local environment and currently tested on Windows 11.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-windows-subsystem-for-linux-wsl">Install Windows Subsystem for Linux (WSL)<a href="#install-windows-subsystem-for-linux-wsl" class="hash-link" aria-label="Enlace directo al Install Windows Subsystem for Linux (WSL)" title="Enlace directo al Install Windows Subsystem for Linux (WSL)">​</a></h2><p>Install Ubuntu distribution of Linux from Microsoft Store by using guide <a href="https://learn.microsoft.com/en-us/windows/wsl/install" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Alternatively, you can follow these instructions as well:</p><ul><li><a href="https://pureinfotech.com/install-wsl-windows-11/" target="_blank" rel="noopener noreferrer">How to install WSL</a></li><li><a href="https://learn.microsoft.com/en-us/windows/wsl/install-manual" target="_blank" rel="noopener noreferrer">Manual installation steps for WSL</a></li></ul><p>Once WSL is installed, make sure to:</p><ul><li><a href="https://learn.microsoft.com/en-us/windows/wsl/setup/environment#set-up-your-linux-username-and-password" target="_blank" rel="noopener noreferrer">Set up your Linux username and password</a></li><li><a href="https://learn.microsoft.com/en-us/windows/wsl/setup/environment#update-and-upgrade-packages" target="_blank" rel="noopener noreferrer">Update and upgrade packages</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="set-ubuntu-as-default-wsl-distribution">Set Ubuntu as default WSL distribution<a href="#set-ubuntu-as-default-wsl-distribution" class="hash-link" aria-label="Enlace directo al Set Ubuntu as default WSL distribution" title="Enlace directo al Set Ubuntu as default WSL distribution">​</a></h3><p>In powershell/cmd run following command to see the list of distributions:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wsl -l</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In the list you should be able to see <code>Ubuntu</code> listed. Afterwards, run following command to set Ubuntu as default distribution:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wsl -s Ubuntu</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="WSL Ubuntu Default Distribution" src="/etherealengine-docs/es/assets/images/wsl-ubuntu-default-1fc9022e83d8512beab359a72fc0502e.jpg" width="769" height="435" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-docker-desktop">Install Docker Desktop<a href="#install-docker-desktop" class="hash-link" aria-label="Enlace directo al Install Docker Desktop" title="Enlace directo al Install Docker Desktop">​</a></h2><p>Install docker desktop with WSL 2 backend. You can find the instructions <a href="https://docs.docker.com/desktop/install/windows-install/" target="_blank" rel="noopener noreferrer">here</a>.</p><p>Once docker desktop is installed and running make sure to enable your WSL distribution. You can do so from Docker Desktop App by visiting <code>Settings &gt; Resources &gt; WSL Integration</code>. Make sure to hit &#x27;Apply &amp; Restart&#x27;.</p><p><img loading="lazy" alt="Docker Desktop WSL Distro" src="/etherealengine-docs/es/assets/images/docker-desktop-wsl-distro-1e2000b68706625f1f44958b8c6fc623.jpg" width="1918" height="1033" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-systemd-in-wsl">Enable systemd in WSL<a href="#enable-systemd-in-wsl" class="hash-link" aria-label="Enlace directo al Enable systemd in WSL" title="Enlace directo al Enable systemd in WSL">​</a></h2><p>Inside your Ubuntu instance, add the following modification to <code>/etc/wsl.conf</code>.</p><div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[boot]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">systemd=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then restart your instance by running <code>wsl --shutdown</code> in PowerShell and relaunching Ubuntu. Upon launch you should have systemd running. You can check this with the command <code>systemctl list-unit-files --type=service</code> which should show your services status.</p><p>You can read more about this on <a href="https://ubuntu.com/blog/ubuntu-wsl-enable-systemd" target="_blank" rel="noopener noreferrer">Ubuntu blog</a> &amp; <a href="https://devblogs.microsoft.com/commandline/systemd-support-is-now-available-in-wsl/" target="_blank" rel="noopener noreferrer">Microsoft blog</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-localhostforwarding-in-wsl">Enable localhostForwarding in WSL<a href="#enable-localhostforwarding-in-wsl" class="hash-link" aria-label="Enlace directo al Enable localhostForwarding in WSL" title="Enlace directo al Enable localhostForwarding in WSL">​</a></h2><p>Create or update <code>.wslconfig</code> file located at <code>C:\Users\{USER_NAME}\.wslconfig</code> (Or <code>%UserProfile%\.wslconfig</code>) with following content:</p><div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">[wsl2]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">localhostForwarding=true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This requires WSL shutdown and reboot. Shutting down your terminal is insufficient. Also machine boot is not required. Simply run:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">wsl --shutdown </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">in Powershell</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> or </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wsl.exe --shutdown </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">within Ubuntu</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Reference: <a href="https://stackoverflow.com/a/65707003/2077741" target="_blank" rel="noopener noreferrer">Custom hostname for servers running in WSL 2</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-node">Install Node<a href="#install-node" class="hash-link" aria-label="Enlace directo al Install Node" title="Enlace directo al Install Node">​</a></h2><p>In your WSL Ubuntu terminal, if node (<code>node --version</code>) isn&#x27;t already installed on your machine. You can do so by first installing <code>nvm</code> by running following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> https://raw.githubusercontent.com/creationix/nvm/master/install.sh </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">source</span><span class="token plain"> ~/.profile</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">NVM_DIR</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string environment constant" style="color:#36acaa">$HOME</span><span class="token string" style="color:#e3116c">/.nvm&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> -s </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$NVM_DIR</span><span class="token string" style="color:#e3116c">/nvm.sh&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">. </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$NVM_DIR</span><span class="token string" style="color:#e3116c">/nvm.sh&quot;</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic"># This loads nvm</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> -s </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$NVM_DIR</span><span class="token string" style="color:#e3116c">/bash_completion&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">. </span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$NVM_DIR</span><span class="token string" style="color:#e3116c">/bash_completion&quot;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># This loads nvm bash_completion</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can verify nvm by using <code>nvm --version</code> command. Afterwards, install node by using:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">nvm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> --lts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can verify nvm by using <code>node --version</code> command.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-python-3">Install Python 3<a href="#install-python-3" class="hash-link" aria-label="Enlace directo al Install Python 3" title="Enlace directo al Install Python 3">​</a></h2><p>In your WSL Ubuntu terminal, if python 3 (<code>pip3 --version</code>) isn&#x27;t already installed on your machine. You can do so by running following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y python3-pip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can verify python3 by using <code>python3 --version</code> command.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-make">Install Make<a href="#install-make" class="hash-link" aria-label="Enlace directo al Install Make" title="Enlace directo al Install Make">​</a></h2><p>In your WSL Ubuntu terminal, if make (<code>make --version</code>) isn&#x27;t already installed on your machine. You can do so by running following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> update -y</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">apt-get</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -y build-essential</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You can verify make by using <code>make --version</code> command.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-kubectl-and-helm">Install kubectl and Helm<a href="#install-kubectl-and-helm" class="hash-link" aria-label="Enlace directo al Install kubectl and Helm" title="Enlace directo al Install kubectl and Helm">​</a></h2><p>In your WSL Ubuntu terminal, if <a href="https://kubernetes.io/docs/tasks/tools/" target="_blank" rel="noopener noreferrer">kubectl</a> &amp; <a href="https://helm.sh/docs/intro/install/" target="_blank" rel="noopener noreferrer">Helm</a> aren&#x27;t already installed on your machine, install them.</p><p>Docker &amp; Docker Compose should be installed if you successfully completed &quot;<a href="#install-docker-desktop">Install Docker Desktop</a>&quot; step. You can verify by running <code>docker --version</code> &amp; <code>docker-compose --version</code> commands in WSL Ubuntu terminal.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="download-and-install-microk8s">Download and install MicroK8s<a href="#download-and-install-microk8s" class="hash-link" aria-label="Enlace directo al Download and install MicroK8s" title="Enlace directo al Download and install MicroK8s">​</a></h2><p>Make sure to install MicroK8s in your WSL Ubuntu terminal. Instructions can be found <a href="https://ubuntu.com/tutorials/install-a-local-kubernetes-with-microk8s#1-overview" target="_blank" rel="noopener noreferrer">here</a></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> snap </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> microk8s --classic --channel</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1.26</span><span class="token plain">/stable</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Due to some ongoing issue with host storage access in microk8s 1.25 version, it is recommended to use version 1.26.</p></blockquote><p>While you can follow the demo instructions there about starting MicroK8s, deploying some demo deployments, etc. to get a feel for it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="clone-ethereal-engine-repo-to-your-local-machine">Clone Ethereal Engine repo to your local machine<a href="#clone-ethereal-engine-repo-to-your-local-machine" class="hash-link" aria-label="Enlace directo al Clone Ethereal Engine repo to your local machine" title="Enlace directo al Clone Ethereal Engine repo to your local machine">​</a></h2><p>To build the Ethereal Engine Docker image locally, and to have a pre-tested way to run various local services, you&#x27;ll need to get the Ethereal Engine repo on your machine. This is most easily done by running following command in WSL Ubuntu terminal.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/etherealengine/etherealengine.git etherealengine</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>If <code>.env.local</code> file does not exist in the root of your repo folder then create it by duplicating <code>.env.local.default</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-minio--mariadb-server-locally-via-docker">Start MinIO &amp; MariaDB server locally via Docker<a href="#start-minio--mariadb-server-locally-via-docker" class="hash-link" aria-label="Enlace directo al Start MinIO &amp; MariaDB server locally via Docker" title="Enlace directo al Start MinIO &amp; MariaDB server locally via Docker">​</a></h2><p>For simplicity, we recommend running MinIO &amp; MariaDB server on your local machine outside of MicroK8s.</p><p>If you run <code>docker-compose up</code> from the top-level <code>/scripts</code> directory in the Ethereal Engine repo, it will start up MinIO &amp; multiple MariaDB docker containers (as well as a redis server, which is not needed). For mariadb containers, one is intended for local development, runs on port 3306; another, intended for automated testing purposes, runs on port 3305; and the last one, intended for minikube/microk8s testing, runs on port 3304. Once the docker container is stopped, you can start it again by running <code>npm run dev-docker</code>.</p><p>Alternatively, if you want to just run MinIO &amp; MariaDB on its own without Docker, that&#x27;s fine too. You&#x27;ll just have to configure the Helm config file to have the appropriate S3 &amp; SQL server configuration, and possibly change the script <code>./scripts/build_microk8s.sh</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-microk8s-addons">Enabling MicroK8s Addons<a href="#enabling-microk8s-addons" class="hash-link" aria-label="Enlace directo al Enabling MicroK8s Addons" title="Enlace directo al Enabling MicroK8s Addons">​</a></h2><p>Execute following command in your WSL Ubuntu terminal to enable MicroK8s addons</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> microk8s </span><span class="token builtin class-name">enable</span><span class="token plain"> dashboard dns registry host-access ingress rbac hostpath-storage helm3</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-microk8s-to-kubectl">Add MicroK8s to Kubectl<a href="#add-microk8s-to-kubectl" class="hash-link" aria-label="Enlace directo al Add MicroK8s to Kubectl" title="Enlace directo al Add MicroK8s to Kubectl">​</a></h2><p>First make sure there is no existing configuration for microk8s in your kubectl config. To do so you run <code>kubectl config get-contexts</code> command in WSL Ubuntu terminal and see if the output contains microk8s. You can remove the existing configurations using following commands:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config delete-context microk8s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config delete-cluster microk8s-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config delete-user microk8s-admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, we will add microk8s configuration to kubectl config. We can do this by using following commands in WSL Ubuntu terminal. <a href="https://discuss.kubernetes.io/t/use-kubectl-with-microk8s/5313/6" target="_blank" rel="noopener noreferrer">Reference</a></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config set-cluster microk8s --server</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">https://127.0.0.1:16443/ --certificate-authority</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">/var/snap/microk8s/current/certs/ca.crt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config set-credentials microk8s-admin --token</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token string variable" style="color:#36acaa">$(</span><span class="token string variable function" style="color:#d73a49">sudo</span><span class="token string variable" style="color:#36acaa"> microk8s kubectl config view --raw -o </span><span class="token string variable string" style="color:#e3116c">&#x27;jsonpath={.users[0].user.token}&#x27;</span><span class="token string variable" style="color:#36acaa">)</span><span class="token string" style="color:#e3116c">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config set-context microk8s --cluster</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">microk8s --namespace</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">default --user</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">microk8s-admin</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Afterwards you can use this newly create context by executing:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl config use-context microk8s</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now if you run <code>kubectl config get-contexts</code> command then microk8s should be current context.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-add-microk8s-to-lens">(Optional) Add MicroK8s to Lens<a href="#optional-add-microk8s-to-lens" class="hash-link" aria-label="Enlace directo al (Optional) Add MicroK8s to Lens" title="Enlace directo al (Optional) Add MicroK8s to Lens">​</a></h2><p> If the previous step was performed successfully then you should be able to see MicroK8s cluster in GUI tool <a href="https://k8slens.dev/" target="_blank" rel="noopener noreferrer">Lens</a>. Else you can print the configuration using following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">microk8s config</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>In Lens, goto <code>File</code> &gt; <code>Add Cluster</code> and paste the output of above command to add cluster.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-microk8s-access-for-local-docker">Enable MicroK8s access for local docker<a href="#enable-microk8s-access-for-local-docker" class="hash-link" aria-label="Enlace directo al Enable MicroK8s access for local docker" title="Enlace directo al Enable MicroK8s access for local docker">​</a></h2><p>For MicroK8s we will be using MicroK8s local <a href="https://microk8s.io/docs/registry-built-in" target="_blank" rel="noopener noreferrer">registry</a></p><p>Option 1: In Windows, add the following lines to <code>%userprofile%\.docker\daemon.json</code>. Create this file if it does not already exists.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;insecure-registries&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;http://microk8s.registry:32000&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;microk8s.registry:32000&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Afterwards, restart docker from Powershell: <code>restart-service *docker*</code></p><p>Option 2: Edit configuration as shown in below image. Make sure to hit &#x27;Apply &amp; Restart&#x27; after making changes.</p><p><img loading="lazy" alt="Docker Desktop Configuration" src="/etherealengine-docs/es/assets/images/docker-desktop-configuration-3bcd2b14180e1728b2d1c25965aab8a5.jpg" width="1920" height="1030" class="img_ev3q"></p><p>Reference:</p><ul><li><a href="https://stackoverflow.com/a/55352883/2077741" target="_blank" rel="noopener noreferrer">daemon.json file in W1indows</a></li><li><a href="https://github.com/docker/docs/blob/62adddbb6b1f8d861c72f6ade2c50977fd57f481/registry/insecure.md#troubleshoot-insecure-registry" target="_blank" rel="noopener noreferrer">When using buildkit, http needs to be added</a></li><li><a href="https://forums.docker.com/t/restart-docker-service-from-command-line/27331/2" target="_blank" rel="noopener noreferrer">Restart Docker service from command line</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="verify-and-troubleshoot-microk8s">Verify and troubleshoot MicroK8s<a href="#verify-and-troubleshoot-microk8s" class="hash-link" aria-label="Enlace directo al Verify and troubleshoot MicroK8s" title="Enlace directo al Verify and troubleshoot MicroK8s">​</a></h2><p>Run following command and check if there is any warning. Its recommended to fix the warnings for MicroK8s to work properly.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> microk8s inspect</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="update-system-hostfile-to-point-to-microk8s">Update system hostfile to point to MicroK8s<a href="#update-system-hostfile-to-point-to-microk8s" class="hash-link" aria-label="Enlace directo al Update system hostfile to point to MicroK8s" title="Enlace directo al Update system hostfile to point to MicroK8s">​</a></h2><p>You&#x27;ll need to edit your hostfile to point certain domains to host machine IP address. First you need to find the IP address of your WSL. Run <code>wsl hostname -I</code> in powershell/cmd. For example:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">C:</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">Users</span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain">hanzl</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">wsl </span><span class="token function" style="color:#d73a49">hostname</span><span class="token plain"> -I</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">172.31</span><span class="token plain">.89.133 </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.215.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Note: If you face issue while running above command, make sure that &#x27;Ubuntu&#x27; distribution is selected as default. You can do so by running <code>wsl /l</code> to view distributions and then run <code>wslconfig /s Ubuntu</code> to select distribution.</p></blockquote><p>From the above output, use <code>172.31.89.133</code> as <code>{WSL_IP}</code>.</p><blockquote><p>Note: Your ip would be different, this is just for example.</p></blockquote><p>Next, edit your Windows hostfile, this is done by editing <code>C:\Windows\System32\drivers\etc\hosts</code>. Add/Update the following lines:</p><div class="language-conf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-conf codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">{WSL_IP} local.etherealengine.org api-local.etherealengine.org instanceserver-local.etherealengine.org 00000.instanceserver-local.etherealengine.org 00001.instanceserver-local.etherealengine.org 00002.instanceserver-local.etherealengine.org 00003.instanceserver-local.etherealengine.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">{WSL_IP} microk8s.registry</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Make sure to replace <code>{WSL_IP}</code> with ip address from <code>wsl hostname -I</code> command.</p><p>The first line says to point several *-local.etherealengine.org domains internally to the host machine, where the nginx ingress server will redirect the traffic to the appropriate pod.</p><p>Make sure to save this file after you&#x27;ve edited it. Also, you will need to update hostfile with updated ip address after every Windows/WSL reboot.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="add-helm-repos">Add Helm repos<a href="#add-helm-repos" class="hash-link" aria-label="Enlace directo al Add Helm repos" title="Enlace directo al Add Helm repos">​</a></h2><p>You&#x27;ll need to add a few Helm repos. Run the following:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> agones https://agones.dev/chart/stable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> redis https://charts.bitnami.com/bitnami</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">helm repo </span><span class="token function" style="color:#d73a49">add</span><span class="token plain"> etherealengine https://helm.etherealengine.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This will add the Helm charts for Agones, Redis, and Ethereal Engine, respectively.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="install-agones-and-redis-deployments">Install Agones and Redis deployments<a href="#install-agones-and-redis-deployments" class="hash-link" aria-label="Enlace directo al Install Agones and Redis deployments" title="Enlace directo al Install Agones and Redis deployments">​</a></h2><p>After adding those Helm repos, you&#x27;ll start installing deployments using Helm repos.</p><p>Make sure that kubectl is pointed at MicroK8s by running <code>kubectl config current-context</code>, which should say &#x27;microk8s&#x27;. You can also run <code>kubectl config get-contexts</code> to get all contexts that kubectl has been configured to run; the current one will have a &#x27;*&#x27; under the left-most
&#x27;current&#x27; column.</p><p>Once kubectl is pointed to microk8s, from the top of the Ethereal Engine repo, run <code>helm install -f &lt;/path/to/agones-default-values.yaml&gt; agones agones/agones</code> to install Agones and <code>helm install local-redis redis/redis</code> to install redis.</p><blockquote><p><a href="https://github.com/EtherealEngine/ethereal-engine-ops/blob/master/configs/agones-default-values.yaml" target="_blank" rel="noopener noreferrer">agones-default-values.yaml</a> can be found in <a href="https://github.com/EtherealEngine/ethereal-engine-ops" target="_blank" rel="noopener noreferrer">ethereal-engine-ops</a> repo.</p></blockquote><p>You can run <code>kubectl get pods -A</code> to list all of the pods running in microk8s. After a minute or so, all of these pods should be in the Running state.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="optional-install-elastic-search-and-kibana-using-helm-for-server-logs">(Optional) Install Elastic Search and Kibana using Helm for Server Logs<a href="#optional-install-elastic-search-and-kibana-using-helm-for-server-logs" class="hash-link" aria-label="Enlace directo al (Optional) Install Elastic Search and Kibana using Helm for Server Logs" title="Enlace directo al (Optional) Install Elastic Search and Kibana using Helm for Server Logs">​</a></h2><p>To install Elasticsearch, add the elastic repository in Helm: <code>helm repo add elastic https://helm.elastic.co</code></p><p>Now, use the curl command to download the values.yaml file containing configuration information:</p><p><code>curl -O https://raw.githubusercontent.com/elastic/helm-charts/master/elasticsearch/examples/minikube/values.yaml</code></p><p>Use the helm install command and the values.yaml file to install the Elasticsearch helm chart:</p><p><code>helm install elasticsearch elastic/elasticsearch -f ./values.yaml</code></p><p>The -f option allows specifying the yaml file with the template. If you wish to install Elasticsearch in a specific namespace, add the -n option followed by the name of the namespace: <code>helm install elasticsearch elastic/elasticsearch -n [namespace] -f ./values.yaml</code></p><p>Now check if the cluster members are up: <code>kubectl get pods --namespace=default -l app=elasticsearch-master -w</code></p><p>The other option is to use the helm test command to examine the cluster’s health: <code>helm test elasticsearch</code></p><p>To install Kibana on top of Elasticsearch : <code>helm install kibana elastic/kibana</code></p><p>Check if all the pods are ready: <code>kubectl get pods</code></p><p>After you set up port-forwarding, access Elasticsearch, and the Kibana GUI by typing <code>http://localhost:5601</code> in your browser</p><p>In order to connect logger with elasticsearch, update <code>local.microk8s.template.values.yaml</code> env <code>api.extraEnv.ELASTIC_HOST</code> for e.g. <code>http://&lt;username&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;</code></p><blockquote><p><a href="https://github.com/EtherealEngine/ethereal-engine-ops/blob/master/configs/local.microk8s.template.values.yaml" target="_blank" rel="noopener noreferrer">local.microk8s.template.values.yaml</a> can be found in <a href="https://github.com/EtherealEngine/ethereal-engine-ops" target="_blank" rel="noopener noreferrer">ethereal-engine-ops</a> repo.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-build_microk8ssh">Run build_microk8s.sh<a href="#run-build_microk8ssh" class="hash-link" aria-label="Enlace directo al Run build_microk8s.sh" title="Enlace directo al Run build_microk8s.sh">​</a></h2><p>When microk8s is running, run the following command from the root of the Ethereal Engine repo in WSL Ubuntu terminal:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">REGISTRY_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">microk8s.registry</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">kubernetes.docker.internal</span><span class="token punctuation" style="color:#393A34">;</span><span class="token function" style="color:#d73a49">bash</span><span class="token plain"> ./scripts/build_microk8s.sh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>If you face issue related to <code>&quot;packages/projects/projects/&quot; does not exist</code> then run following commands in your WSL terminal:</p></blockquote><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">export</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">MYSQL_HOST</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">localhost</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev-docker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run dev-reinit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run install-projects</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The script builds the full-repo Docker image using several build arguments. Vite, which builds he client files, uses some information from the MariaDB database created for microk8s deployments to fill in some variables, and needs database credentials. The script will supply default values for all of the MYSQL_* variables if they are not provided to the script, as well as VITE_CLIENT_HOST, VITE_SERVER_HOST, and VITE_INSTANCESERVER_HOST. The latter three will make your microk8s deployment accessible on <code>(local/api-local/instanceserver-local).etherealengine.org</code>; if you want to run it on a different domain, then you&#x27;ll have to set those three environment variables to what you want them to be (and also change the hostfile records you made pointing those subdomains)</p><p>This will build an image of the entire Ethereal Engine repo into a single Docker file. When deployed for different services, it will only run the parts needed for that service. This may take up to 15 minutes, though later builds should take less time as things are cached.</p><p>Once the images are build. It will push it to MicroK8s local registry. You can verify that images are pushed to registry by visiting <a href="http://microk8s.registry:32000/v2/_catalog" target="_blank" rel="noopener noreferrer">http://microk8s.registry:32000/v2/_catalog</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="update-helm-values-file">Update Helm Values File<a href="#update-helm-values-file" class="hash-link" aria-label="Enlace directo al Update Helm Values File" title="Enlace directo al Update Helm Values File">​</a></h2><p>This will use a Helm config file titled &#x27;local.values.yaml&#x27; to configure the deployment. There is
a <a href="https://github.com/EtherealEngine/ethereal-engine-ops/blob/master/configs/local.microk8s.template.values.yaml" target="_blank" rel="noopener noreferrer">template</a> for this file in <a href="https://github.com/EtherealEngine/ethereal-engine-ops" target="_blank" rel="noopener noreferrer">ethereal-engine-ops</a> repo.</p><p>If you are using local file server as explained couple of steps earlier then, update &#x27;local.values.yaml&#x27; variable <code>api.fileServer.hostUploadFolder</code> with value similar to &#x27;&lt;ENGINE_FULL_PATH&gt;/packages/server/upload&#x27; e.g. &#x27;/home/&lt;OS_USER_NAME&gt;/&lt;ENGINE_FOLDER&gt;/packages/server/upload&#x27;. Its mandatory to point to <code>/packages/server/upload</code> folder of your engine folder.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploy-ethereal-engine-helm-chart">Deploy Ethereal Engine Helm chart<a href="#deploy-ethereal-engine-helm-chart" class="hash-link" aria-label="Enlace directo al Deploy Ethereal Engine Helm chart" title="Enlace directo al Deploy Ethereal Engine Helm chart">​</a></h2><p>Before this step, ensure that all the agones and redis pods are in &quot;Running&quot; state. You can check pods status using the below command.</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">kubectl get pods</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Run the following command:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">helm </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -f </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">/path/to/local.values.yaml</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> -f </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">/path/to/db-refresh-true.values.yaml</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token builtin class-name">local</span><span class="token plain"> etherealengine/etherealengine</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copiar código al portapapeles" title="Copiar" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p><a href="https://github.com/EtherealEngine/ethereal-engine-ops/blob/master/configs/db-refresh-true.values.yaml" target="_blank" rel="noopener noreferrer">db-refresh-true.values.yaml</a> can be found in <a href="https://github.com/EtherealEngine/ethereal-engine-ops" target="_blank" rel="noopener noreferrer">ethereal-engine-ops</a> repo.</p></blockquote><p>After a minute or so, running <code>kubectl get pods</code> should show one or more instanceservers, one or more api servers, and one client server in the Running state. Setting <code>FORCE_DB_REFRESH=true</code> made the api servers (re)initialize the database. Since you don&#x27;t want that to happen every time a new api pod starts, run <code>helm upgrade --reuse-values -f &lt;/path/to/db-refresh-false.values.yaml&gt; local etherealengine/etherealengine</code>. The API pods will restart and will now not attempt to reinit the database on boot.</p><blockquote><p><a href="https://github.com/EtherealEngine/ethereal-engine-ops/blob/master/configs/db-refresh-false.values.yaml" target="_blank" rel="noopener noreferrer">db-refresh-false.values.yaml</a> can be found in <a href="https://github.com/EtherealEngine/ethereal-engine-ops" target="_blank" rel="noopener noreferrer">ethereal-engine-ops</a> repo.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="accept-invalid-certs">Accept invalid certs<a href="#accept-invalid-certs" class="hash-link" aria-label="Enlace directo al Accept invalid certs" title="Enlace directo al Accept invalid certs">​</a></h2><p>Since there are no valid certificates for this domain, you&#x27;ll have to tell your browser to ignore the insecure connections when you try to load the application.</p><p>Go to <a href="https://local.etherealengine.org/" target="_blank" rel="noopener noreferrer">https://local.etherealengine.org/</a>, you should see a warning about an invalid certificate; accept this invalid cert to get to the home page. Next if it keeps displaying &#x27;loading routes&#x27; progress for a long time, it is due to the fact that you have to allow certificates. You&#x27;ll have to open the dev tools for your browser and go to the &#x27;Console&#x27; tab. You will see some errors in URL address starting with &#x27;wss&#x27;. Replace &#x27;wss&#x27; with &#x27;https&#x27; and open it in new tab. Accept the certificate and reload your Ethereal Engine tab. You need to do this for following domains:</p><ul><li>wss://api-local.etherealengine.org -&gt; <a href="https://api-local.etherealengine.org" target="_blank" rel="noopener noreferrer">https://api-local.etherealengine.org</a></li><li>wss://instanceserver-local.etherealengine.org -&gt; <a href="https://instanceserver-local.etherealengine.org" target="_blank" rel="noopener noreferrer">https://instanceserver-local.etherealengine.org</a></li><li>https://localhost:9000</li></ul><blockquote><p>You can open Developer tools in Chrome by clicking the side menu with three dots, then More tools &gt; Developer tools (or use Ctrl+Shift+I)</p></blockquote></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/1_host/2_devops_deployment/0_microk8s_windows.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Editar esta página</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Navegación de páginas de documentos"><a class="pagination-nav__link pagination-nav__link--prev" href="/etherealengine-docs/es/docs/host/devops_deployment/microk8s_linux"><div class="pagination-nav__sublabel">Anterior</div><div class="pagination-nav__label">Ethereal Engine on MicroK8s (Linux)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/etherealengine-docs/es/docs/host/devops_deployment/docker_desktop"><div class="pagination-nav__sublabel">Siguiente</div><div class="pagination-nav__label">Ethereal Engine on Docker Desktop</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#install-windows-subsystem-for-linux-wsl" class="table-of-contents__link toc-highlight">Install Windows Subsystem for Linux (WSL)</a><ul><li><a href="#set-ubuntu-as-default-wsl-distribution" class="table-of-contents__link toc-highlight">Set Ubuntu as default WSL distribution</a></li></ul></li><li><a href="#install-docker-desktop" class="table-of-contents__link toc-highlight">Install Docker Desktop</a></li><li><a href="#enable-systemd-in-wsl" class="table-of-contents__link toc-highlight">Enable systemd in WSL</a></li><li><a href="#enable-localhostforwarding-in-wsl" class="table-of-contents__link toc-highlight">Enable localhostForwarding in WSL</a></li><li><a href="#install-node" class="table-of-contents__link toc-highlight">Install Node</a></li><li><a href="#install-python-3" class="table-of-contents__link toc-highlight">Install Python 3</a></li><li><a href="#install-make" class="table-of-contents__link toc-highlight">Install Make</a></li><li><a href="#install-kubectl-and-helm" class="table-of-contents__link toc-highlight">Install kubectl and Helm</a></li><li><a href="#download-and-install-microk8s" class="table-of-contents__link toc-highlight">Download and install MicroK8s</a></li><li><a href="#clone-ethereal-engine-repo-to-your-local-machine" class="table-of-contents__link toc-highlight">Clone Ethereal Engine repo to your local machine</a></li><li><a href="#start-minio--mariadb-server-locally-via-docker" class="table-of-contents__link toc-highlight">Start MinIO &amp; MariaDB server locally via Docker</a></li><li><a href="#enabling-microk8s-addons" class="table-of-contents__link toc-highlight">Enabling MicroK8s Addons</a></li><li><a href="#add-microk8s-to-kubectl" class="table-of-contents__link toc-highlight">Add MicroK8s to Kubectl</a></li><li><a href="#optional-add-microk8s-to-lens" class="table-of-contents__link toc-highlight">(Optional) Add MicroK8s to Lens</a></li><li><a href="#enable-microk8s-access-for-local-docker" class="table-of-contents__link toc-highlight">Enable MicroK8s access for local docker</a></li><li><a href="#verify-and-troubleshoot-microk8s" class="table-of-contents__link toc-highlight">Verify and troubleshoot MicroK8s</a></li><li><a href="#update-system-hostfile-to-point-to-microk8s" class="table-of-contents__link toc-highlight">Update system hostfile to point to MicroK8s</a></li><li><a href="#add-helm-repos" class="table-of-contents__link toc-highlight">Add Helm repos</a></li><li><a href="#install-agones-and-redis-deployments" class="table-of-contents__link toc-highlight">Install Agones and Redis deployments</a></li><li><a href="#optional-install-elastic-search-and-kibana-using-helm-for-server-logs" class="table-of-contents__link toc-highlight">(Optional) Install Elastic Search and Kibana using Helm for Server Logs</a></li><li><a href="#run-build_microk8ssh" class="table-of-contents__link toc-highlight">Run build_microk8s.sh</a></li><li><a href="#update-helm-values-file" class="table-of-contents__link toc-highlight">Update Helm Values File</a></li><li><a href="#deploy-ethereal-engine-helm-chart" class="table-of-contents__link toc-highlight">Deploy Ethereal Engine Helm chart</a></li><li><a href="#accept-invalid-certs" class="table-of-contents__link toc-highlight">Accept invalid certs</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/xr_engine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/xrengine/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.gg/xrf" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/etherealengine/etherealengine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.npmjs.com/search?q=%40etherealengine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Npm<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.etherealengine.org/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ethereal Engine<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opencollective.com/etherealengine" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Collective<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2023 Ethereal Engine.</div></div></div></footer></div>
<script src="/etherealengine-docs/es/assets/js/runtime~main.257a882b.js"></script>
<script src="/etherealengine-docs/es/assets/js/main.687acc7d.js"></script>
</body>
</html>