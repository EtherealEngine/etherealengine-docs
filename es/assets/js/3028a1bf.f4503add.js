"use strict";(self.webpackChunk_etherealengine_docs=self.webpackChunk_etherealengine_docs||[]).push([[8854],{9415:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});var a=n(4848),s=n(8453);const o={},r=void 0,i={id:"manual/modules/infrastructure/devopsDeployment/AWSSetup/RDS",title:"RDS",description:"Create RDS box",source:"@site/docs/manual/03_modules/05_infrastructure/03_devopsDeployment/03_AWSSetup/05_RDS.md",sourceDirName:"manual/03_modules/05_infrastructure/03_devopsDeployment/03_AWSSetup",slug:"/manual/modules/infrastructure/devopsDeployment/AWSSetup/RDS",permalink:"/etherealengine-docs/es/manual/modules/infrastructure/devopsDeployment/AWSSetup/RDS",draft:!1,unlisted:!1,editUrl:"https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/manual/03_modules/05_infrastructure/03_devopsDeployment/03_AWSSetup/05_RDS.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{},sidebar:"manual",previous:{title:"IAM",permalink:"/etherealengine-docs/es/manual/modules/infrastructure/devopsDeployment/AWSSetup/IAM"},next:{title:"Security Group",permalink:"/etherealengine-docs/es/manual/modules/infrastructure/devopsDeployment/AWSSetup/securityGroup"}},l={},c=[{value:"Create RDS box",id:"create-rds-box",level:2},{value:"Accessing RDS box from an external machine",id:"accessing-rds-box-from-an-external-machine",level:3},{value:"Create RDS instance",id:"create-rds-instance",level:3}];function d(e){const t={code:"code",h2:"h2",h3:"h3",p:"p",strong:"strong",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"create-rds-box",children:"Create RDS box"}),"\n",(0,a.jsx)(t.p,{children:"iR Engine is backed by a SQL server. We use MariaDB in development, but it has also been run on AWS with\nAurora without issue. Most other versions of SQL should work but have not been explicitly tested."}),"\n",(0,a.jsx)(t.h3,{id:"accessing-rds-box-from-an-external-machine",children:"Accessing RDS box from an external machine"}),"\n",(0,a.jsx)(t.p,{children:"By default, an RDS box is only accessible from within the VPC it's located.\nIf you want to be able to connect to it from outside that VPC, you'll need to either set up a bastion box\nand SSH into that box, or make the RDS box publicly accessible."}),"\n",(0,a.jsxs)(t.p,{children:["Setting up a bastion box is not covered here at this time. The steps to make it public will be noted\nbelow by ",(0,a.jsx)(t.strong,{children:"Make RDS public"})]}),"\n",(0,a.jsx)(t.h3,{id:"create-rds-instance",children:"Create RDS instance"}),"\n",(0,a.jsx)(t.p,{children:"Go to RDS and click the Create Database button. Most options can be left at their default values.\nUnder Settings, give a more descriptive DB cluster identifier. The Master Username can be left as admin;\nenter a Master Password and then enter it again in Confirm Password."}),"\n",(0,a.jsx)(t.p,{children:"Under DB instance class, pick an option that best meets your pricing needs."}),"\n",(0,a.jsx)(t.p,{children:"Under Availability and Durability, it's recommended that you leave it on the default of\nmaking an Aurora Replica in another AZ."}),"\n",(0,a.jsx)(t.p,{children:"Under Connectivity, make sure that it's in the VPC that was made as part of the EKS cluster."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Make RDS public"}),"\nIf you want to be able to access it externally, you should set Public Access to 'Yes'."]}),"\n",(0,a.jsxs)(t.p,{children:["Under VPC security group, select the ones titled\n",(0,a.jsx)(t.code,{children:"eksctl-<EKS_cluster_name>-cluster-ClusterSharedNodeSecurityGroup-<random_string>"})," and\n",(0,a.jsx)(t.code,{children:"eks-clustersg-<EKS_cluster_name>-<random_string>"}),"."]}),"\n",(0,a.jsx)(t.p,{children:"Open the top-level Additional Configuration dropdown (not the one within Connectivity). Under Database Options-> Initial Database Name,\nname the default database and save this for later use in the Helm config file."}),"\n",(0,a.jsx)(t.p,{children:"Finally, click the Create Database button at the very bottom of the page."}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.strong,{children:"Make RDS Public"})," You will need to add a Security Group to the RDS instance that allows traffic over port\n3306 (or whatever port you chose to run it on). You can have this SG only let in traffic from your IP address(es)\nif you want to be very secure about this, or from anywhere (0.0.0.0/0) if you're less concerned about someone\ngetting access."]}),"\n",(0,a.jsx)(t.p,{children:"Some values to note for dev/prod.template.values.yaml:\nsql.database will be what you entered for Initial Database Name\nsql.user and sql.password will be the name and password of the admin user\nsql.host will be the Endpoint of the RDS instance/cluster; find this by going to RDS -> Databases,\nclicking on either the lone DB identifier (if made in a single AZ) or the top-level regional cluster\nidentifier (if set up in a multi-AZ deployment); the look for Endpoint (single-AZ) or, if multi-AZ,\nthe Endpoint name that has type 'Writer instance'."})]})}function u(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>i});var a=n(6540);const s={},o=a.createContext(s);function r(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(o.Provider,{value:t},e.children)}}}]);