"use strict";(self.webpackChunk_etherealengine_docs=self.webpackChunk_etherealengine_docs||[]).push([[7553],{6497:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>d,contentTitle:()=>r,default:()=>c,frontMatter:()=>t,metadata:()=>i,toc:()=>o});var a=l(4848),s=l(8453);const t={},r="Upgrading Helm Release",i={id:"manual/modules/infrastructure/devopsDeployment/upgradeHelmDeployment",title:"Upgrading Helm Release",description:"This guide will explain how to upgrade an existing helm deployment.",source:"@site/docs/manual/03_modules/05_infrastructure/03_devopsDeployment/08_upgradeHelmDeployment.md",sourceDirName:"manual/03_modules/05_infrastructure/03_devopsDeployment",slug:"/manual/modules/infrastructure/devopsDeployment/upgradeHelmDeployment",permalink:"/etherealengine-docs/es/manual/modules/infrastructure/devopsDeployment/upgradeHelmDeployment",draft:!1,unlisted:!1,editUrl:"https://github.com/EtherealEngine/etherealengine-docs/blob/master/docs/manual/03_modules/05_infrastructure/03_devopsDeployment/08_upgradeHelmDeployment.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{},sidebar:"manual",previous:{title:"Release Helm Chart",permalink:"/etherealengine-docs/es/manual/modules/infrastructure/devopsDeployment/releaseHelmChart"},next:{title:"Instances",permalink:"/etherealengine-docs/es/manual/modules/instances/"}},d={},o=[{value:"Update <code>values.yaml</code> File",id:"update-valuesyaml-file",level:2},{value:"Differences in <code>value.yaml</code>",id:"differences-in-valueyaml",level:2},{value:"Upgrading Helm Deployment",id:"upgrading-helm-deployment",level:2}];function u(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h1,{id:"upgrading-helm-release",children:"Upgrading Helm Release"}),"\n",(0,a.jsx)(n.p,{children:"This guide will explain how to upgrade an existing helm deployment."}),"\n",(0,a.jsxs)(n.h2,{id:"update-valuesyaml-file",children:["Update ",(0,a.jsx)(n.code,{children:"values.yaml"})," File"]}),"\n",(0,a.jsxs)(n.p,{children:["A Helm release upgrade is usually required when changes are made in the configuration of helm charts.",(0,a.jsx)(n.br,{}),"\n","To do so, the first thing required is upgrading the ",(0,a.jsx)(n.code,{children:"value.yaml"})," file of your current configuration.",(0,a.jsx)(n.br,{}),"\n","If you already have an updated copy of this file then you can update the desired values and push the changes to your Helm deployment."]}),"\n",(0,a.jsxs)(n.p,{children:["When multiple people are working same deployment, it becomes difficult to maintain an up-to-date ",(0,a.jsx)(n.code,{children:"values.yaml"})," file.\nYou can get the current version/snapshot of ",(0,a.jsx)(n.code,{children:"values.yaml"})," file at any time by running the ",(0,a.jsx)(n.a,{href:"https://helm.sh/docs/helm/helm_get_values/",children:"get values"})," command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm get values [DEPLOYMENT_NAME]\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["eg: ",(0,a.jsx)(n.code,{children:"helm get values dev"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["You can save the output to a ",(0,a.jsx)(n.code,{children:"values.yaml"})," file and use it to update the required values."]}),"\n",(0,a.jsxs)(n.h2,{id:"differences-in-valueyaml",children:["Differences in ",(0,a.jsx)(n.code,{children:"value.yaml"})]}),"\n",(0,a.jsxs)(n.p,{children:["It can be very useful to evaluate the differences between your local ",(0,a.jsx)(n.code,{children:"values.yaml"})," and the current deployment ",(0,a.jsx)(n.code,{children:"values.yaml"})," files.",(0,a.jsx)(n.br,{}),"\n","That way you can visualize the changes that a Helm upgrade is going to make before they are applied.",(0,a.jsx)(n.br,{}),"\n","To do so first make sure you have ",(0,a.jsx)(n.code,{children:"helm diff"})," plugin installed. You can install it by running:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm plugin install https://github.com/databus23/helm-diff\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Now that the ",(0,a.jsx)(n.code,{children:"helm diff"})," plugin is installed, you can run the following command:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm diff upgrade [DEPLOYMENT_NAME] etherealengine/etherealengine --values [PATH_TO_VALUES_YAML]\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["eg: ",(0,a.jsx)(n.code,{children:"helm diff upgrade dev etherealengine/etherealengine --values ~/etherealengine-ops/values/dev.ethereal.values.yaml"})]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["This will print the differences between the deployed helm release ",(0,a.jsx)(n.code,{children:"values.yaml"})," file and the specified ",(0,a.jsx)(n.code,{children:"values.yaml"})," file."]}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Note: When the output is empty it means that there are no differences/changes."}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"upgrading-helm-deployment",children:"Upgrading Helm Deployment"}),"\n",(0,a.jsxs)(n.p,{children:["Now that the local ",(0,a.jsx)(n.code,{children:"values.yaml"})," file is updated, the following command will upgrade the Helm deployment with the correct configuration:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"helm upgrade [DEPLOYMENT_NAME] etherealengine/etherealengine --reuse-values -f [PATH_TO_VALUES_YAML]\n"})}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["eg: ",(0,a.jsx)(n.code,{children:"helm upgrade dev etherealengine/etherealengine --reuse-values -f ~/etherealengine-ops/values/dev.ethereal.values.yaml"})]}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,n,l)=>{l.d(n,{R:()=>r,x:()=>i});var a=l(6540);const s={},t=a.createContext(s);function r(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);